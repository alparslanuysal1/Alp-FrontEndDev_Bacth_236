<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interval</title>
</head>
<body>
    <button id="btnStart">Start</button>
    <button id="btnStop">Stop</button>
    <ul id="lstPrices"></ul>
    <script>
        const btnStart = document.getElementById("btnStart")
        const btnStop = document.getElementById("btnStop")
        const lstPrices = document.getElementById("lstPrices")
        let timer = null; // iki farkli fonksiyonda kullanacagimiz icin global verdik

        const getRandomPrice = () => {
            const price = Math.floor(Math.random() * 4000 + 1000);
            return price;
        }
        const setPrices = () => {
            if(timer) return; // timer degiskeni bir degere sahipse return ile basa don. yeniden fonksiyonu calistirma
            timer = setInterval(() => { //fonksiyon sonucunu timer degiskenine atadik
                const li = document.createElement("li");
                li.innerText = getRandomPrice();
                lstPrices.appendChild(li);
            }, 2000)
        }
        btnStart.addEventListener("click", () => {
            setPrices();
        })
        btnStop.addEventListener("click", () => {
            clearInterval(timer); // bu sekilde setInterval'i durduruyoruz.
            timer = null; //hafizadaki timer icine attigimizobjeyi sifirlariz
        })

        /* setInterval veya setTimeout kullanacaksak bunlari mutlaka bir degiskene atamaliyiz */
    </script>
</body>
</html>